# 中文检查包括中文纠错与汉字拼音纠错
##  词库来源：

词库来源在数据库中，以方便扩展，只要每天都会产生一个当天日期相关的搜索词库表，包含相关信息

##  建立索引

采用二元循环切词：

“背天而驰”->”背天”，”天而”，”而驰”，”驰背”

以ConCurrentHashMap<String,CopyOnWriteArrayList<integer>>结构存储，其中String为元切出的两个中文字符，CopyOnWriteArrayList<integer>存储相应文档，文档有三个属性，数据结构如下：

/**

 * 唯一的标识

 */

private int id;

/**

 * 文档内容

 */

private String text;

/**

 * 搜索总数量

 */

private int freq;

例如：
词库为：ABC，BCDA
下标:   0    1 

DOC为：[0,”ABC”,0]，[1,”BCDA”,0] 

索引如下：

AB->[0]

BC->[0,1]

CA-> [0]

CD->[1]

DA->[1]

# 检查并返回结果

* 粗匹配：

一元切词方法：

比如输入ABC->AB,BC，CA 查找文档

AB->[0]

BC->[0,1]

CA-> [0]

合并结果为文档   [0,”ABC”,0]，[1,”BCD”,0] 

 

* 细匹配：

从查询结果中过滤掉自身

 中文拼写检查细匹配：

利用N-gram算法对拆分后的片段进行切分，记录候选关键词及词频

* 结果的排序优先级：

1. 搜索次数优先比较，普通词库中的搜索次数默认为0，搜索词库有记录。搜索次数越大，则表示越优先

2. 编辑距离为衡量：1表示两个字符串完全相同，0表示两个字符串具有最大的不相似程度

放入以搜索次数与编辑距离分数为衡量指标的堆中，堆的长度人为确定，具体根据要查询的建议单词的多少确定。

返回结果，注意此处的结果要是以编辑距离增序的结果（使用优先队列的函数可以达到此要求）。

跟关键词一样的词忽略，编辑距离太大也忽略。

返回排在前面的几个结果。
